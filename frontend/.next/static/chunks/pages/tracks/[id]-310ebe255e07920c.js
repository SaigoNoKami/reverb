(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{8754:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tracks/[id]",function(){return e(2330)}])},1780:function(n,t,e){"use strict";e.d(t,{o:function(){return p}});var r={};e.r(r),e.d(r,{pauseTrack:function(){return a},playTrack:function(){return u},setActiveTrack:function(){return d},setCurrentTime:function(){return f},setDuration:function(){return s},setVolume:function(){return l}});var i=e(5617),o=e(9569),c=e(6716),u=function(){return{type:c.N.PLAY}},a=function(){return{type:c.N.PAUSE}},s=function(n){return{type:c.N.SET_DURATION,payload:n}},l=function(n){return{type:c.N.SET_VOLUME,payload:n}},f=function(n){return{type:c.N.SET_CURRENT_TIME,payload:n}},d=function(n){return{type:c.N.SET_ACTIVE,payload:n}};function h(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var v=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){h(n,t,e[t])}))}return n}({},r),p=function(){var n=(0,i.I0)();return(0,o.DE)(v,n)}},719:function(n,t,e){"use strict";e.d(t,{G:function(){return i}});var r=e(7294),i=function(n){var t=(0,r.useState)(n),e=t[0],i=t[1];return{value:e,onChange:function(n){i(n.target.value)}}}},5062:function(n,t,e){"use strict";e.d(t,{i:function(){return r}});var r=e(5617).v9},9382:function(n,t,e){"use strict";e.d(t,{Z:function(){return R}});var r=e(5893),i=e(7294),o=e(3609),c=e(7099),u=e(2712),a=e(5192),s=e(5782),l=e(8739),f=e(2276),d=e(8884),h=e(9875),v=e(9798),p=e(7658),x=e(3),j=e(8497),m=e(2865),y=e(1163);function b(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=[{text:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430",href:"/"},{text:"\u0422\u0440\u0435\u043a\u0438",href:"/tracks"},{text:"\u0410\u043b\u044c\u0431\u043e\u043c\u0438",href:"/albums"}];function w(){var n=b(i.useState(!1),2),t=n[0],e=n[1],w=(0,y.useRouter)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.ZP,{}),(0,r.jsx)(u.Z,{position:"fixed",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(f.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){e(!0)},edge:"start",children:(0,r.jsx)(d.Z,{})}),(0,r.jsx)(l.Z,{variant:"h6",noWrap:!0,component:"div",children:"Reverb"})]})}),(0,r.jsxs)(o.ZP,{variant:"persistent",anchor:"left",open:t,children:[(0,r.jsx)("div",{children:(0,r.jsx)(f.Z,{onClick:function(){e(!1)},children:(0,r.jsx)(h.Z,{})})}),(0,r.jsx)(s.Z,{children:g.map((function(n,t){var e=n.text,i=n.href;return(0,r.jsxs)(v.ZP,{button:!0,onClick:function(){return w.push(i)},children:[(0,r.jsx)(p.Z,{children:t%2===0?(0,r.jsx)(j.Z,{}):(0,r.jsx)(m.Z,{})}),(0,r.jsx)(x.Z,{primary:e})]},i)}))})]})]})}var k,Z=e(551),T=e(5507),_=e(7067),P=e(2149),O=e(9753),E=e(7962),S=e.n(E),N=function(n){var t=n.left,e=n.right,i=n.onChange;return(0,r.jsxs)("div",{style:{display:"flex"},children:[(0,r.jsx)("input",{type:"range",min:0,max:e,value:t,onChange:i}),(0,r.jsxs)("div",{children:[t," / ",e]})]})},C=e(5062),A=e(1780),I=function(){var n=(0,C.i)((function(n){return n.player})),t=n.pause,e=n.volume,o=n.active,c=n.duration,u=n.currentTime,a=(0,A.o)(),s=a.pauseTrack,l=a.playTrack,d=a.setVolume,h=a.setCurrentTime,v=a.setDuration;a.setActiveTrack;(0,i.useEffect)((function(){k?(p(),x()):k=new Audio}),[o]);var p=function(){o&&(k.src="http://diw4nk35u3ll.cloudfront.net/"+o.audio,k.volume=e/100,k.onloadedmetadata=function(){v(Math.ceil(k.duration))},k.ontimeupdate=function(){h(Math.ceil(k.currentTime))})},x=function(){t?(l(),k.play()):(s(),k.pause())};return o?(0,r.jsxs)("div",{className:S().player,children:[(0,r.jsx)(f.Z,{onClick:x,children:t?(0,r.jsx)(T.Z,{}):(0,r.jsx)(_.Z,{})}),(0,r.jsxs)(O.ZP,{container:!0,direction:"column",style:{width:200,margin:"0 20px"},children:[(0,r.jsx)("div",{children:null===o||void 0===o?void 0:o.name}),(0,r.jsx)("div",{style:{fontSize:12,color:"gray"},children:null===o||void 0===o?void 0:o.artist})]}),(0,r.jsx)(N,{left:u,right:c,onChange:function(n){k.currentTime=Number(n.target.value),h(Number(n.target.value))}}),(0,r.jsx)(P.Z,{style:{marginLeft:"auto"}}),(0,r.jsx)(N,{left:e,right:100,onChange:function(n){k.volume=Number(n.target.value)/100,d(Number(n.target.value))}})]}):null},D=e(9008),R=function(n){var t=n.children,e=n.title,i=n.description,o=n.keywords;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.default,{children:[(0,r.jsx)("title",{children:e||"\u041c\u0443\u0437\u0438\u0447\u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"}),(0,r.jsx)("meta",{name:"description",content:"\u041c\u0443\u0437\u0438\u0447\u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u0412\u0456\u0434\u043f\u0440\u0430\u0432 \u0441\u0432\u0456\u0439 \u0442\u0440\u0435\u043a \u0443 \u0432\u0456\u0447\u043d\u0456\u0441\u0442\u044c."+i}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{name:"keywords",content:o||"\u041c\u0443\u0437\u0438\u043a\u0430, \u0442\u0440\u0435\u043a\u0438, \u0432\u0438\u043a\u043e\u043d\u0430\u0432\u0446\u0456"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("meta",{httpEquiv:"Content-Security-Policy",content:"upgrade-insecure-requests"})]}),(0,r.jsx)(w,{}),(0,r.jsx)(Z.Z,{style:{margin:"90px 0"},children:t}),(0,r.jsx)(I,{})]})}},2330:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return y}});var r=e(5666),i=e.n(r),o=e(5893),c=e(7294),u=e(9382),a=e(8513),s=e(9753),l=e(2233),f=e(1163),d=e(9669),h=e.n(d),v=e(719);function p(n,t,e,r,i,o,c){try{var u=n[o](c),a=u.value}catch(s){return void e(s)}u.done?t(a):Promise.resolve(a).then(r,i)}function x(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function j(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){x(n,t,e[t])}))}return n}function m(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y=!0;t.default=function(n){var t,e=n.serverTrack,r=(0,c.useState)(e),d=r[0],x=r[1],y=(0,f.useRouter)(),b=(0,v.G)(""),g=(0,v.G)(""),w=(t=i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h().post("http://localhost:5000/tracks/comment",{username:b.value,text:g.value,trackId:d._id});case 3:t=n.sent,x(j({},d,{comments:m(d.comments).concat([t.data])})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function c(n){p(o,r,i,c,u,"next",n)}function u(n){p(o,r,i,c,u,"throw",n)}c(void 0)}))});return(0,o.jsxs)(u.Z,{title:"\u041c\u0443\u0447\u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 - "+d.name+" - "+d.artist,keywords:"\u041c\u0443\u0437\u0438\u043a\u0430, \u0430\u0440\u0442\u0438\u0441\u0442, "+d.name+", "+d.artist,children:[(0,o.jsx)(a.Z,{variant:"outlined",style:{fontSize:32},onClick:function(){return y.push("/tracks")},children:"\u0414\u043e \u0441\u043f\u0438\u0441\u043a\u0443"}),(0,o.jsxs)(s.ZP,{container:!0,style:{margin:"20px 0"},children:[(0,o.jsx)("img",{src:"http://diw4nk35u3ll.cloudfront.net/"+d.picture,width:200,height:200}),(0,o.jsxs)("div",{style:{marginLeft:30},children:[(0,o.jsxs)("h1",{children:["\u041d\u0430\u0437\u0432\u0430 \u0442\u0440\u0435\u043a\u0443 - ",d.name]}),(0,o.jsxs)("h1",{children:["\u0412\u0438\u043a\u043e\u043d\u0430\u0432\u0435\u0446\u044c - ",d.artist]}),(0,o.jsxs)("h1",{children:["\u041f\u0440\u043e\u0441\u043b\u0443\u0445\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f - ",d.listens]})]})]}),(0,o.jsx)("h1",{children:"\u0421\u043b\u043e\u0432\u0430"}),(0,o.jsx)("p",{children:d.text}),(0,o.jsx)("h1",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0456"}),(0,o.jsxs)(s.ZP,{container:!0,children:[(0,o.jsx)(l.Z,j({label:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f",fullWidth:!0},b)),(0,o.jsx)(l.Z,j({label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440"},g,{fullWidth:!0,multiline:!0,rows:4})),(0,o.jsx)(a.Z,{onClick:w,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),(0,o.jsx)("div",{children:d.comments.map((function(n){return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:["\u0410\u0432\u0442\u043e\u0440 - ",n.username]}),(0,o.jsxs)("div",{children:["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440 - ",n.text]})]})}))})]})}},7962:function(n){n.exports={player:"Player_player__H5WBX"}}},function(n){n.O(0,[650,997,774,888,179],(function(){return t=8754,n(n.s=t);var t}));var t=n.O();_N_E=t}]);